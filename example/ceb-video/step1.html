<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Import fontawesome for icons-->
  <link rel="stylesheet" href="https://opensource.keycdn.com/fontawesome/4.7.0/font-awesome.min.css"
        integrity="sha384-dNpIIXE8U05kAbPhy3G1cz+yZmTzA6CY8Vg/u2L9xRnHjJiAK76m2BIEaSEV+/aU" crossorigin="anonymous">
  <!-- Import the polyfill to provide the CustomElement implementation if required-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/document-register-element/1.3.0/document-register-element.js"
          crossorigin="anonymous"></script>
  <!-- Import the ceb library -->
  <script src="dist/umd/ceb.min.js"></script>
  <style>
    ceb-video {
      display: block;
      height: auto;
      width: auto;
      border: solid thin lightgray;
      padding: 0.125rem;
    }

    ceb-video video {
      display: block;
      width: 100%;
    }
  </style>
</head>

<!-- Define and register the CustomElement 'ceb-input'. -->
<script>
  var cebVideoBuilder = ceb.element();
</script>

<!--
  Template of ceb-video.
  The embedded video element is created from the template.
  The usage of ceb-content will force the initial light DOM of the ceb-element to be children of the video element.
  By this ways source, tracks ... will handled directly by the video element.
  The template is also used to defined the optional controls bar.
-->
<script id="ceb-video-template" type="text/html">
  <video ceb-content></video>
  <div class="controls" style="display: none">
    <button type="button" name="play"><i class="fa fa-play fa-fw"></i></button>
    <button type="button" name="pause" hidden><i class="fa fa-pause fa-fw"></i></button>
    <button type="button" name="stop"><i class="fa fa-stop fa-fw"></i></button>
    <input type="range" name="duration" min="0" step="1">
    <button type="button" name="mute"><i class="fa fa-volume-off fa-fw"></i></button>
    <button type="button" name="unmute"><i class="fa fa-volume-up fa-fw"></i></button>
    <input type="range" name="volume" min="0" max="1" step="0.05">
  </div>
</script>

<!-- Set the template. -->
<script>
  cebVideoBuilder.builders(
    // ceb.template() is used to fill the content of the custom element
    // from the template described above.
    ceb.template(document.getElementById('ceb-video-template').innerHTML),
    // For convenience the video element is available as property.
    ceb.property('video').getter(function (el) {
      return el.querySelector('video');
    })
  );
</script>

<script>
  cebVideoBuilder.register('ceb-video');
</script>

<!-- Create and configure the ceb-video element from HTML. -->
<ceb-video controls>
  <source src="https://www.html5rocks.com/en/tutorials/video/basics/devstories.webm"
          type='video/webm;codecs="vp8, vorbis"'/>
  <source src="https://www.html5rocks.com/en/tutorials/video/basics/devstories.mp4"
          type='video/mp4;codecs="avc1.42E01E, mp4a.40.2"'/>
</ceb-video>

</body>
</html>
