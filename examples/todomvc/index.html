<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TodoMVC - &lt;ceb/&gt; ~ Custom Element Builder</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The book presents the usage of the ceb library.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> Custom Element Builder</a></li><li class="chapter-item expanded "><a href="../../packages.html"><strong aria-hidden="true">2.</strong> Packages</a></li><li class="chapter-item expanded "><a href="../../inversion/index.html"><strong aria-hidden="true">3.</strong> Inversion</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../inversion/hexagonal_architecture.html"><strong aria-hidden="true">3.1.</strong> Hexagonal Architecture</a></li><li class="chapter-item expanded "><a href="../../inversion/ioc.html"><strong aria-hidden="true">3.2.</strong> IOC implementation</a></li><li class="chapter-item expanded "><a href="../../inversion/hexagonal_testing.html"><strong aria-hidden="true">3.3.</strong> Hexagonal Testing</a></li></ol></li><li class="chapter-item expanded "><a href="../../messaging/index.html"><strong aria-hidden="true">4.</strong> Messaging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../messaging/concepts.html"><strong aria-hidden="true">4.1.</strong> Concepts</a></li><li class="chapter-item expanded "><a href="../../messaging/messages.html"><strong aria-hidden="true">4.2.</strong> Messages</a></li><li class="chapter-item expanded "><a href="../../messaging/gateway.html"><strong aria-hidden="true">4.3.</strong> Gateway</a></li><li class="chapter-item expanded "><a href="../../messaging/inversion.html"><strong aria-hidden="true">4.4.</strong> Inversion integration</a></li><li class="chapter-item expanded "><a href="../../messaging/implementation.html"><strong aria-hidden="true">4.5.</strong> Reference Implementation</a></li><li class="chapter-item expanded "><a href="../../messaging/adapters.html"><strong aria-hidden="true">4.6.</strong> Adapters</a></li></ol></li><li class="chapter-item expanded "><a href="../../elements/index.html"><strong aria-hidden="true">5.</strong> Elements</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../elements/ElementBuilder.html"><strong aria-hidden="true">5.1.</strong> ElementBuilder</a></li><li class="chapter-item expanded "><a href="../../elements/AttributeBuilder.html"><strong aria-hidden="true">5.2.</strong> AttributeBuilder</a></li><li class="chapter-item expanded "><a href="../../elements/FieldBuilder.html"><strong aria-hidden="true">5.3.</strong> FieldBuilder</a></li><li class="chapter-item expanded "><a href="../../elements/OnBuilder.html"><strong aria-hidden="true">5.4.</strong> OnBuilder</a></li><li class="chapter-item expanded "><a href="../../elements/ContentBuilder.html"><strong aria-hidden="true">5.5.</strong> ContentBuilder</a></li><li class="chapter-item expanded "><a href="../../elements/TemplateBuilder.html"><strong aria-hidden="true">5.6.</strong> TemplateBuilder</a></li><li class="chapter-item expanded "><a href="../../elements/ReferenceBuilder.html"><strong aria-hidden="true">5.7.</strong> ReferenceBuilder</a></li><li class="chapter-item expanded "><a href="../../elements/AttributePropagationBuilder.html"><strong aria-hidden="true">5.8.</strong> AttributePropagationBuilder</a></li><li class="chapter-item expanded "><a href="../../elements/PropertyDelegationBuilder.html"><strong aria-hidden="true">5.9.</strong> PropertyDelegationBuilder</a></li></ol></li><li class="chapter-item expanded "><a href="../../templating/index.html"><strong aria-hidden="true">6.</strong> Templating</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../templating/grey_dom.html"><strong aria-hidden="true">6.1.</strong> Grey DOM</a></li><li class="chapter-item expanded "><a href="../../templating/literal.html"><strong aria-hidden="true">6.2.</strong> Template literal</a></li></ol></li><li class="chapter-item expanded "><a href="../../examples/index.html"><strong aria-hidden="true">7.</strong> Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../examples/todomvc/index.html" class="active"><strong aria-hidden="true">7.1.</strong> TodoMVC</a></li><li class="chapter-item expanded "><a href="../../examples/ex-greeting.html"><strong aria-hidden="true">7.2.</strong> ex-greeting</a></li></ol></li><li class="chapter-item expanded "><a href="../../references.html"><strong aria-hidden="true">8.</strong> References</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">&lt;ceb/&gt; ~ Custom Element Builder</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/tmorin/ceb/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="todomvc"><a class="header" href="#todomvc">TodoMVC</a></h1>
<p>This example is an implementation of the <a href="https://todomvc.com">TodoMVC</a> application with <code>&lt;ceb/&gt;</code>.</p>
<iframe src="https://codesandbox.io/embed/ceb-example-todomvc-fzll0?fontsize=14&hidenavigation=1&theme=light&view=preview"
style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
title="&lt;ceb/&gt; ~ example - TodoMVC"
allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>The implementation embraces a kind of <a href="https://alistair.cockburn.us/hexagonal-architecture">Hexagonal Architecture</a> to provide a loose coupling integration between: the UI, the application logic (i.e. the model) and, the adapters (i.e. the persistence system ...).
The communication between both concerns the UI and the application logic is managed by a <a href="https://www.reactivemanifesto.org/glossary#Message-Driven">Message/Event Driven approach</a> which emphasizes the <a href="https://www.martinfowler.com/bliki/CQRS.html">CQRS pattern</a>.</p>
<h2 id="codebase"><a class="header" href="#codebase">Codebase</a></h2>
<p>The codebase is composed of four Bounded Contexts organized in modules.</p>
<h3 id="the-bounded-contexts"><a class="header" href="#the-bounded-contexts">The Bounded Contexts</a></h3>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>Todo</td><td>Manage the todos of the list.</td></tr>
<tr><td>Filter</td><td>Manage the filtering of the list.</td></tr>
<tr><td>App</td><td>Manage the application lifecycle.</td></tr>
<tr><td>User Interface</td><td>Manage the User Interface.</td></tr>
</tbody></table>
<p><img src="bounded_contexts.png" alt="The Bounded Contexts" /></p>
<h3 id="the-module-types"><a class="header" href="#the-module-types">The Module Types</a></h3>
<p>The modules are qualified by <em>types</em>.
The purpose of the <em>types</em> is to organize the source code according to the <a href="https://alistair.cockburn.us/hexagonal-architecture">Hexagonal Architecture</a>.</p>
<p>Each bounded context may have modules of the following types: <em>core</em>, <em>api</em>, <em>infra</em>, <em>ui</em> and <em>e2e</em>.</p>
<p>The <em>core</em> modules contain the implementation of the Bounded Context's functionalities.
They contain also the <em>ports</em> as defined by the Hexagonal Architecture.</p>
<p>The <em>api</em> modules provides resources to interact with the Bounded Context's functionalities.
They are mainly composed of message definitions (commands, events, queries and results) and other data structures.</p>
<p>The <em>infra</em> modules contain the implementations of <em>ports</em> defined in the <em>core</em> modules, i.e. <em>adapters</em> as defined by the Hexagonal Architecture.</p>
<p>The <em>ui</em> modules contain resources handling the interactions with humans.</p>
<p>Finally, the <em>e2e</em> (i.e. end-to-end ) modules contain test suites which can be used by <em>infra</em> modules to validate the implementation of <em>ports</em> coming from <em>core</em> modules.</p>
<h2 id="todo"><a class="header" href="#todo">Todo</a></h2>
<p>This bounded context manages the <em>todos</em> which composes the todo list.</p>
<p><img src="modules_todo.png" alt="The modules of Todo" /></p>
<h2 id="filter"><a class="header" href="#filter">Filter</a></h2>
<p>This bounded context manages the <em>filtering</em> of the todo list.</p>
<p><img src="modules_filter.png" alt="The modules of Filter" /></p>
<h2 id="app"><a class="header" href="#app">App</a></h2>
<p>This bounded context manages the <em>application</em> lifecycle.
The main purpose of the Bounded Context is to produce and publish the application state.</p>
<p><img src="modules_app.png" alt="The modules of App" /></p>
<h2 id="user-interface"><a class="header" href="#user-interface">User Interface</a></h2>
<p>This bounded context manages the user interactions.
It is composed of only one module, <code>ui-elements</code>, which provide an implementation mainly based on Custom Elements.</p>
<p><img src="modules_ui_elements.png" alt="The modules of App" /></p>
<h2 id="collaboration-between-bounded-contexts"><a class="header" href="#collaboration-between-bounded-contexts">Collaboration between Bounded Contexts</a></h2>
<h3 id="addtodo"><a class="header" href="#addtodo">AddTodo</a></h3>
<p>The command AddTodo adds a new Todo to the todo list.
The command is triggered by the User Interface then once the causality chain is done, the Integration Event TodosUpdated is published.
Therefore, the UI can react.</p>
<p><img src="eventstorming_AddTodo.png" alt="The AddTodo flow" /></p>
<p>The flow is similar for the ChangeFilter command.</p>
<p><img src="eventstorming_ChangeFiler.png" alt="The ChangeFilter flow" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../examples/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../examples/ex-greeting.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../examples/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../examples/ex-greeting.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
